--- 
title: "Causal Learning Handbook"
site: bookdown::bookdown_site
documentclass: book
bibliography: [book.bib, packages.bib]
url: https://amertens.github.io/causal-learning-handbook/
# cover-image: path to the social sharing image like images/cover.jpg
description: |
    Causal learnin handbook, including interactive targeted learning workshop materials and linkouts to annotated bibliographies and more advanced examples.
github-repo: https://github.com/amertens/causal-learning-handbook
---



# Welcome!  

This site introduces the **Causal Roadmap**, **Targeted Maximum Likelihood Estimation (TMLE)**, and **Super Learner** for modern causal inference in epidemiology, with an emphasis on pharmacoepidemiology and clinical trial analysis.


```{r include=FALSE}
# automatically create a bib database for R packages
knitr::write_bib(c(
  .packages(), 'bookdown', 'knitr', 'rmarkdown', 'tidyverse', 'here'
), 'packages.bib')
```

```{r, eval=F, include=F}

#to create the book
library(bookdown)
library(rsconnect)
 


#render locally
bookdown::render_book("index.Rmd")




 
#https://amertens.github.io/causal-learning-handbook/


```



```{r, eval=F, include=F}

## ---------------------------------------------------------
## Core CRAN packages (data handling, plotting, modeling)
## ---------------------------------------------------------
cran_pkgs <- c(
  "tidyverse",   # dplyr, ggplot2, tibble, readr, etc.
  "here",        # reproducible file paths
  "sandwich",    # robust variance estimators
  "lmtest",      # hypothesis tests with robust SEs
  "Matrix",      # required by several ML packages
  "survival"     # time-to-event foundations (later chapters)
)

## ---------------------------------------------------------
## Super Learner and ML ecosystem
## ---------------------------------------------------------
sl_pkgs <- c(
  "SuperLearner",
  "glmnet",
  "gam",
  "ranger",
  "randomForest",
  "xgboost"
)

## ---------------------------------------------------------
## Targeted Learning and causal inference
## ---------------------------------------------------------
causal_pkgs <- c(
  "tmle",        # TMLE for point treatment
  "ltmle",       # longitudinal TMLE (later chapters)
  "lmtp",        # longitudinal modified treatment policies
  "hal9001",     # highly adaptive lasso (HAL)
  "origami"      # cross-fitting / sample splitting
)

## ---------------------------------------------------------
## Diagnostics and sensitivity analysis (used or referenced)
## ---------------------------------------------------------
diagnostic_pkgs <- c(
  "EValue",      # E-values (optional sensitivity)
  "episensr",   # quantitative bias analysis
  "causalsens"  # sensitivity analysis utilities
)

## ---------------------------------------------------------
## Bookdown / reproducibility infrastructure
## ---------------------------------------------------------
infra_pkgs <- c(
  "bookdown",
  "rmarkdown",
  "knitr"
)

## ---------------------------------------------------------
## Combine all packages
## ---------------------------------------------------------
all_pkgs <- unique(c(
  cran_pkgs,
  sl_pkgs,
  causal_pkgs,
  diagnostic_pkgs,
  infra_pkgs
))

## ---------------------------------------------------------
## Install missing packages only
## ---------------------------------------------------------
installed <- rownames(installed.packages())
to_install <- setdiff(all_pkgs, installed)

if (length(to_install) > 0) {
  install.packages(to_install, dependencies = TRUE)
}

## ---------------------------------------------------------
## Optional: verify installation
## ---------------------------------------------------------
invisible(lapply(all_pkgs, require, character.only = TRUE))

```
