{
  "hash": "80be32138c1a7d3d217ceb05212fb099",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"1. Introduction & Case Study: Post-Market Safety of Prolia\"\nformat:\n  html:\n    toc: true\n    toc-depth: 3\n---\n\n\n\n# Background\n\nThis lesson introduces our motivating example: evaluating the post-market cardiovascular safety of **denosumab (Prolia)** compared to **zoledronic acid**.\n\nWe'll use this as our running example throughout the workshop to illustrate the Causal Roadmap.\n\n![Placeholder: Conceptual diagram of study design (Prolia vs. ZA).](../images/prolia_design_placeholder.png)\n*Figure 1. Study schematic for the Prolia vs. Zoledronic Acid cardiovascular safety study.*\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#romain's EHR simulation package\n\nremotes::install_github(\"romainkp/LtAtStructuR\")\nlibrary(LtAtStructuR)\nlibrary(data.table)\nlibrary(lubridate)\nlibrary(future) # optional (for parallel processing)\n#plan(multiprocess) # optional (for parallel processing)\n\n## Define one cohort dataset, one exposure dataset, and one or more covariate\n## datasets\ncohort <- setCohort(cohortDT, \"ID\", \"IndexDate\", \"EOFDate\", \"EOFtype\",\n                    \"AMI\", c(\"ageEntry\", \"sex\", \"race\", \"A1c\", \"eGFR\"),\n                    list(\"ageEntry\"=list(\"categorical\"=FALSE,\n                                        \"impute\"=NA,\n                                        \"impute_default_level\"=NA),\n                        \"sex\"=list(\"categorical\"=TRUE,\n                                   \"impute\"=NA,\n                                   \"impute_default_level\"=NA),\n                        \"race\"=list(\"categorical\"=TRUE,\n                                    \"impute\"=NA,\n                                    \"impute_default_level\"=NA)) )\nexposure <- setExposure(expDT, \"ID\", \"startA\", \"endA\")\ncovariate1 <- setCovariate(a1cDT, \"sporadic\", \"ID\", \"A1cDate\", \"A1c\",\n                           categorical = FALSE)\ncovariate2 <- setCovariate(egfrDT, \"sporadic\", \"ID\", \"eGFRDate\", \"eGFR\",\n                           categorical = TRUE)\n\n## Gather each input dataset into a single object that specifies the content of\n## the output dataset to be constructed\nLtAt.specification <- cohort + exposure + covariate1 + covariate2\n\n## Construct the output dataset\nLtAt.data <- construct(LtAt.specification, time_unit = 15, first_exp_rule = 1,\n                       exp_threshold = 0.75)\nhead(LtAt.data)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}